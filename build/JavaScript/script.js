document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#task-form").addEventListener("submit",taskManager.handleFormSubmit),taskManager.addTasksToDOM()});class Task{constructor(){this.tasksArray=JSON.parse(localStorage.getItem("tasks"))||[]}handleFormSubmit(e){e.preventDefault();const t=document.querySelector("#task-input");t.value.trim()&&taskManager.saveNewTask(t.value)}saveNewTask(e){if("string"!=typeof e||!e.trim())return;const t={taskTitle:e,taskID:performance.now()};this.tasksArray=[...this.tasksArray,t],taskManager.addTasksToLocalStorage()}addTasksToLocalStorage(){this.tasksArray&&0!==this.tasksArray.length?(localStorage.setItem("tasks",JSON.stringify(this.tasksArray)),taskManager.addTasksToDOM()):localStorage.removeItem("tasks")}addTasksToDOM(){const e=JSON.parse(localStorage.getItem("tasks"));if(!e)return;const t=document.querySelector("#task-container");t.innerHTML="",e.forEach(e=>{const{taskTitle:a,taskID:n}=e,s=document.createElement("LI"),o=document.createElement("input");o.type="checkbox",o.setAttribute("data-id",n),o.id=n;const r=document.createElement("LABEL");r.htmlFor=n,r.textContent=a,s.append(o,r),t.appendChild(s)})}}const taskManager=new Task;document.addEventListener("DOMContentLoaded",()=>{UIThemeManager.applyTheme(),document.querySelector("#toggle-theme").addEventListener("click",()=>{UIThemeManager.changeTheme()})});class UITheme{applyTheme(){const e=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",e),UIThemeManager.changeIcon(e)}changeTheme(){let e=document.documentElement.getAttribute("data-theme");e="dark"===e?"light":"dark",document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),UIThemeManager.changeIcon(e)}changeIcon(e){const t=document.querySelector("#toggle-theme"),a=document.querySelector("#change-theme-icon"),n=document.createElement("img");n.id="change-theme-icon","dark"===e&&(n.src="./images/svg/sun-icon.svg"),"light"===e&&(n.src="./images/svg/moon-icon.svg"),a&&a.remove(),t.appendChild(n)}}const UIThemeManager=new UITheme;